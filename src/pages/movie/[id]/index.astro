---
import DetailLayout from "@/layouts/DetailLayout.astro";
import { Image } from "astro:assets";
import { getDetail } from "@/utils/data";

export const prerender = false;
const { id } = Astro.params;

const data = (await getDetail("movie", (id as string) ?? "")) as DetailMovie;
---

<DetailLayout
  name_transition="movie"
  id={(id as string) ?? ""}
  poster={data.backdrop_path}
  title={`Movie ~ ${data.original_title}`}
  description={`Once detail movie with id ${id}`}
>
  <Image
    src={`${import.meta.env.PUBLIC_TMDB_IMG_URL}${data.poster_path}`}
    alt={"Poster"}
    inferSize
    transition:name={`movie ${id} poster`}
    width={250}
    height={300}
    class={"object-cover obejct-center -mt-40"}
  />
  <h1 transition:name={`movie ${id} title`} class="mt-3 text-lg">
    {data.original_title}
  </h1>
</DetailLayout>
